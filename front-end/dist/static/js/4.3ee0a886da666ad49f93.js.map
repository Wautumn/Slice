{"version":3,"sources":["webpack:///src/components/AdminFeedHandle.vue","webpack:///./src/components/AdminFeedHandle.vue?174f","webpack:///./src/components/AdminFeedHandle.vue"],"names":["AdminFeedHandle","data","pageSize","reply","currentRow","tableData","allData","computed","hasSelect","this","size","length","mounted","_this","$http","get","then","res","body","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","next","done","item","value","status","err","return","console","log","pageChange","catch","methods","index","start","end","slice","submitReply","_this2","id","answer","post","emulateJSON","$Message","info","setCurrent","row","$refs","singleTable","setCurrentRow","handleCurrentChange","val","components_AdminFeedHandle","render","_vm","_h","$createElement","_c","_self","staticStyle","padding-left","padding-right","margin-top","ref","width","attrs","tooltip-effect","highlight-current-row","on","current-change","type","scopedSlots","_u","key","fn","props","staticClass","label-position","inline","label","_v","_s","content","scope","date","prop","sortable","show-overflow-tooltip","float","click","$event","height","margin-bottom","model","callback","$$v","expression","_e","total","page-size","show-elevator","on-change","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/4.3ee0a886da666ad49f93.js","sourcesContent":["<template>\r\n  <div style=\"padding-left: 15%;  padding-right: 15%; margin-top: 20px\">\r\n    <el-table\r\n      ref=\"singleTable\"\r\n      :data=\"tableData\"\r\n      tooltip-effect=\"dark\"\r\n      style=\"width: 100%\"\r\n      highlight-current-row\r\n      @current-change=\"handleCurrentChange\"\r\n    >\r\n      <el-table-column type=\"expand\">\r\n        <template slot-scope=\"props\">\r\n          <el-form label-position=\"left\" inline class=\"demo-table-expand\">\r\n            <el-form-item label=\"内容：\">\r\n              <span>{{ props.row.content }}</span>\r\n            </el-form-item>\r\n            <el-form-item label=\"回复：\">\r\n              <span>{{ props.row.answer }}</span>\r\n            </el-form-item>\r\n          </el-form>\r\n        </template>\r\n      </el-table-column>\r\n      <!-- <el-table-column type=\"selection\" width=\"55\"></el-table-column> -->\r\n      <el-table-column label=\"时间\" width=\"180\">\r\n        <template slot-scope=\"scope\">{{ scope.row.date }}</template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"name\" label=\"用户名\" width=\"120\" sortable></el-table-column>\r\n      <el-table-column prop=\"status\" label=\"状态\" width=\"120\" sortable></el-table-column>\r\n      <el-table-column prop=\"title\" label=\"标题\" show-overflow-tooltip></el-table-column>\r\n    </el-table>\r\n    <div style=\"margin-top: 20px\">\r\n      <el-button @click=\"setCurrent()\" style=\"float: right \">取消选择</el-button>\r\n    </div>\r\n    <div v-if=\"hasSelect\" height=\"60px\" style=\"margin-top: 30px; \">\r\n      <h1>回复</h1>\r\n      <el-input type=\"textarea\" v-model=\"reply\" style=\"margin-top: 10px; margin-bottom:10px;\"></el-input>\r\n      <el-button type=\"primary\" @click=\"submitReply\" style=\"float: right;\">提交</el-button>\r\n    </div>\r\n    <Page\r\n      :total=\"size\"\r\n      :page-size=\"pageSize\"\r\n      @on-change=\"pageChange\"\r\n      show-elevator\r\n      class=\"page-footer\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nvar getUrl = \"http://localhost:8080/getAllFeedback\";\r\nvar submitUrl = \"http://localhost:8080/handleFeedback\";\r\nvar testData = [\r\n  {\r\n    date: \"2016-05-03\",\r\n    name: \"王大虎\",\r\n    status: \"已处理\",\r\n    title: \"上海市普陀区金沙江路 1518 弄\",\r\n    content: \"上海市普陀区金沙江路 1518 弄\"\r\n  },\r\n  {\r\n    date: \"2016-05-02\",\r\n    name: \"王小虎\",\r\n    status: \"已处理\",\r\n    title: \"上海市普陀区金沙江路 1518 弄\",\r\n    content: \"上海市普陀区金沙江路 1518 弄\"\r\n  }\r\n];\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      pageSize: 5,\r\n      reply: \"\",\r\n      currentRow: null,\r\n      tableData: [],\r\n      allData: []\r\n    };\r\n  },\r\n  computed: {\r\n    hasSelect() {\r\n      return this.currentRow === null ? false : true;\r\n    },\r\n    size() {\r\n      return this.allData.length;\r\n    }\r\n  },\r\n  mounted() {\r\n    var allData = null;\r\n    this.$http\r\n      .get(getUrl)\r\n      .then(\r\n        res => {\r\n          // 响应成功回调\r\n          allData = res.body;\r\n\r\n          for (var item of allData) {\r\n            if (item.status == 0) {\r\n              item.status = \"未处理\";\r\n            } else if (item.status == 1) {\r\n              item.status = \"已处理\";\r\n            } else {\r\n              item.status = \"未知\";\r\n            }\r\n          }\r\n          this.allData = allData;\r\n          console.log(this.allData);\r\n          this.pageChange(1);\r\n        },\r\n        res => {\r\n          // 响应错误回调\r\n          console.log(\"fail\");\r\n        }\r\n      )\r\n      .catch(() => {\r\n        console.log(\"process fail\");\r\n      });\r\n  },\r\n\r\n  methods: {\r\n    pageChange(index) {\r\n      console.log(\"pageChange\");\r\n      //页数变化回调\r\n      var start = (index - 1) * this.pageSize;\r\n      var end = index * this.pageSize;\r\n      this.tableData = this.allData.slice(start, end);\r\n      //this.pageCurrent=index;\r\n    },\r\n    submitReply() {\r\n      console.log(this.currentRow.id);\r\n      var data = { id: this.currentRow.id, answer: this.reply };\r\n      this.$http\r\n        .post(submitUrl, data, { emulateJSON: true })\r\n        .then(\r\n          res => {\r\n            // 响应成功回调\r\n            this.$Message.info(\"提交成功\");\r\n            this.currentRow.status = \"已处理\";\r\n            this.currentRow.answer = this.reply;\r\n            console.log(res);\r\n          },\r\n          res => {\r\n            // 响应错误回调\r\n            console.log(\"fail\");\r\n          }\r\n        )\r\n        .catch(() => {\r\n          console.log(\"process fail\");\r\n        });\r\n    },\r\n    setCurrent(row) {\r\n      this.$refs.singleTable.setCurrentRow(row);\r\n      this.currentRow = null;\r\n    },\r\n    handleCurrentChange(val) {\r\n      this.currentRow = val;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.page-footer {\r\n  margin-top: 30px;\r\n}\r\n\r\n.demo-table-expand {\r\n  font-size: 0;\r\n}\r\n.demo-table-expand label {\r\n  width: 90px;\r\n  color: #99a9bf;\r\n}\r\n.demo-table-expand .el-form-item {\r\n  margin-right: 0;\r\n  margin-bottom: 0;\r\n  width: 50%;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/AdminFeedHandle.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"padding-left\":\"15%\",\"padding-right\":\"15%\",\"margin-top\":\"20px\"}},[_c('el-table',{ref:\"singleTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"tooltip-effect\":\"dark\",\"highlight-current-row\":\"\"},on:{\"current-change\":_vm.handleCurrentChange}},[_c('el-table-column',{attrs:{\"type\":\"expand\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('el-form',{staticClass:\"demo-table-expand\",attrs:{\"label-position\":\"left\",\"inline\":\"\"}},[_c('el-form-item',{attrs:{\"label\":\"内容：\"}},[_c('span',[_vm._v(_vm._s(props.row.content))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"回复：\"}},[_c('span',[_vm._v(_vm._s(props.row.answer))])])],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"时间\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.date))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"用户名\",\"width\":\"120\",\"sortable\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"status\",\"label\":\"状态\",\"width\":\"120\",\"sortable\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"title\",\"label\":\"标题\",\"show-overflow-tooltip\":\"\"}})],1),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-top\":\"20px\"}},[_c('el-button',{staticStyle:{\"float\":\"right\"},on:{\"click\":function($event){return _vm.setCurrent()}}},[_vm._v(\"取消选择\")])],1),_vm._v(\" \"),(_vm.hasSelect)?_c('div',{staticStyle:{\"margin-top\":\"30px\"},attrs:{\"height\":\"60px\"}},[_c('h1',[_vm._v(\"回复\")]),_vm._v(\" \"),_c('el-input',{staticStyle:{\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},attrs:{\"type\":\"textarea\"},model:{value:(_vm.reply),callback:function ($$v) {_vm.reply=$$v},expression:\"reply\"}}),_vm._v(\" \"),_c('el-button',{staticStyle:{\"float\":\"right\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submitReply}},[_vm._v(\"提交\")])],1):_vm._e(),_vm._v(\" \"),_c('Page',{staticClass:\"page-footer\",attrs:{\"total\":_vm.size,\"page-size\":_vm.pageSize,\"show-elevator\":\"\"},on:{\"on-change\":_vm.pageChange}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-76cd8c51\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/AdminFeedHandle.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-76cd8c51\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./AdminFeedHandle.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./AdminFeedHandle.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./AdminFeedHandle.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-76cd8c51\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./AdminFeedHandle.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-76cd8c51\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/AdminFeedHandle.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}